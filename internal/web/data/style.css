/*
   Copyright (C) 2021-2023 Leonid Maslakov.
   Copyright (C) 2024 CasjaysDev.

   This file is part of CasjaysDev Pastes (fork of Lenpaste).

   CasjaysDev Pastes is free software: you can redistribute it
   and/or modify it under the terms of the
   GNU Affero Public License as published by the
   Free Software Foundation, either version 3 of the License,
   or (at your option) any later version.

   CasjaysDev Pastes is distributed in the hope that it will be useful,
   but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
   or FITNESS FOR A PARTICULAR PURPOSE.
   See the GNU Affero Public License for more details.

   You should have received a copy of the GNU Affero Public License along with CasjaysDev Pastes.
   If not, see <https://www.gnu.org/licenses/>.
*/

/* CSS RESET & BASE */
*, *::before, *::after {
	box-sizing: border-box;
}

/* MAIN */
body {
	width: min(90%, 1200px);
	margin: 0 auto;
	padding: 0;
	font-style: normal;
	background-color: {{call .Theme `color.BackgroundBody`}};
	font-family: {{call .Theme `font.Default`}};
	font-size: clamp(14px, 2.5vw, 16px);
	line-height: 1.5;
	color: {{call .Theme `color.Font`}};
}

/* HEADER */
header {
	padding: 1rem 1.25rem;
	color: {{call .Theme `color.HeaderFont`}};
	background: {{call .Theme `color.Header`}};
}

header nav {
	display: flex;
	flex-wrap: wrap;
	justify-content: space-between;
	align-items: center;
	gap: 0.5rem;
}

.header-left, .header-right {
	display: flex;
	flex-wrap: wrap;
	align-items: center;
	gap: 0.75rem 1rem;
}

header a {
	color: {{call .Theme `color.HeaderFont`}};
	text-decoration: none;
	white-space: nowrap;
	padding: 0.25rem 0;
	min-height: 44px;
	display: inline-flex;
	align-items: center;
}

header a:hover, header a:focus {
	color: {{call .Theme `color.HeaderFont`}};
	text-decoration: underline;
}

header .site-title {
	font-size: 1.25rem;
	font-weight: bold;
}

/* MAIN CONTENT */
main {
	padding: 1.25rem;
}

/* ARTICLE */
article {
	width: 100%;
	padding: 1.25rem;
	line-height: 1.6;
	background: {{call .Theme `color.Article`}};
	border-radius: 4px;
}

/* CONTAINERS */
.stretch-width {
	width: 100%;
}

.button-block-right {
	display: flex;
	flex-wrap: wrap;
	justify-content: flex-end;
	gap: 0.75rem;
}

.text-bar {
	display: flex;
	flex-wrap: wrap;
	justify-content: space-between;
	align-items: center;
	gap: 0.5rem 1rem;
	font-family: {{call .Theme `font.Monospace`}};
}

.text-bar > div {
	flex: 1 1 auto;
	min-width: 150px;
}

.text-bar h1, .text-bar h2, .text-bar h3,
.text-bar h4, .text-bar h5, .text-bar h6 {
	font-family: {{call .Theme `font.Default`}};
}

.text-bar-right {
	text-align: right;
	flex: 0 1 auto;
}

.text-bar-right a {
	margin-left: 0.625rem;
}

/* TEXT COLORS */
.text-red, .text-red:hover {
	color: {{call .Theme `color.Red`}};
}

.text-grey, .text-grey:hover {
	color: {{call .Theme `color.Grey`}};
}

/* FOCUS STYLES */
:focus-visible {
	outline: 2px solid {{call .Theme `color.FocusOutline`}};
	outline-offset: 2px;
}

:active {
	outline: 0;
}

/* TYPOGRAPHY */
h1, h2, h3, h4, h5, h6,
p, pre,
select, label,
button, input,
textarea {
	margin-top: 0.625rem;
	margin-bottom: 0.625rem;
}

h4 {
	margin-top: 2rem;
}

/* CODE & TEXTAREA */
pre, textarea {
	width: 100%;
	max-width: 100%;
	min-width: 100%;
	tab-size: 4;
	background-color: {{call .Theme `color.Element`}};
	padding: 0.75rem;
	border: none;
	border-radius: 4px;
	font-family: {{call .Theme `font.Monospace`}};
	font-size: inherit;
	color: inherit;
}

pre {
	overflow-x: auto;
	white-space: pre;
}

textarea {
	min-height: 150px;
	resize: vertical;
}

/* FORM ELEMENTS */
label {
	font-family: {{call .Theme `font.Default`}};
}

input::placeholder, textarea::placeholder {
	color: {{call .Theme `color.InputPlaceholder`}};
}

input {
	background: {{call .Theme `color.Element`}};
	font-size: inherit;
	font-family: inherit;
	color: inherit;
	padding: 0.625rem;
	border: none;
	border-radius: 4px;
	min-height: 44px;
}

select {
	appearance: none;
	background: {{call .Theme `color.Element`}};
	color: {{call .Theme `color.Font`}};
	font-size: inherit;
	padding: 0.5rem 2rem 0.5rem 0.5rem;
	border: none;
	border-radius: 4px;
	min-height: 44px;
	cursor: pointer;
}

select:hover, input[type="checkbox"]:hover {
	background-color: {{call .Theme `color.InputHover`}};
}

select {
	background-image: url("data:image/svg+xml,<svg width='100' height='180' xmlns='http://www.w3.org/2000/svg'><polyline points='10,80 50,110 90,80' style='fill:none;stroke:{{call .Theme `color.SVG`}};stroke-width:18'/></svg>");
	background-repeat: no-repeat;
	background-position: right 0.5rem center;
	background-size: 0.625rem;
}

label {
	margin-right: 0.625rem;
}

button, select, input, textarea {
	border-radius: 4px;
	-webkit-border-radius: 4px;
	-moz-border-radius: 4px;
	-webkit-appearance: none;
	-moz-appearance: none;
}

/* BUTTONS */
button {
	background: {{call .Theme `color.Button`}};
	font-size: inherit;
	padding: 0.625rem 1rem;
	border: none;
	border-radius: 4px;
	color: {{call .Theme `color.ButtonFont`}};
	cursor: pointer;
	min-height: 44px;
	min-width: 44px;
}

button:hover {
	background: {{call .Theme `color.ButtonHover`}};
}

.button-green {
	background: {{call .Theme `color.ButtonGreen`}};
	color: {{call .Theme `color.ButtonGreenFont`}};
}

.button-green:hover {
	background: {{call .Theme `color.ButtonGreenHover`}};
}

/* CHECKBOX */
.checkbox {
	display: inline-flex;
	align-items: center;
	gap: 0.5rem;
	cursor: pointer;
	min-height: 44px;
}

input[type="checkbox"] {
	width: 1.25rem;
	height: 1.25rem;
	margin: 0;
	cursor: pointer;
	flex-shrink: 0;
}

input[type="checkbox"]:checked {
	background-image: url("data:image/svg+xml,<svg width='100' height='100' xmlns='http://www.w3.org/2000/svg'><polyline points='20,60 50,80 90,20' style='fill:none;stroke:{{call .Theme `color.SVG`}};stroke-width:18'/></svg>");
	background-repeat: no-repeat;
	background-position: center;
	background-size: 0.875rem;
}

/* LISTS */
ul {
	list-style: square;
	padding-left: 1.5rem;
}

/* CODE */
code {
	background-color: {{call .Theme `color.Element`}};
	padding: 0.125rem 0.375rem;
	border-radius: 3px;
	color: inherit;
}

pre code {
	background-color: inherit;
	padding: 0;
}

/* DETAILS */
details {
	margin-top: 0.625rem;
	margin-bottom: 0.625rem;
}

details summary {
	cursor: pointer;
	padding: 0.5rem 0 0.5rem 1.25rem;
	min-height: 44px;
	display: flex;
	align-items: center;
	list-style-type: none;
	background-image: url("data:image/svg+xml,<svg width='100' height='100' xmlns='http://www.w3.org/2000/svg'><polygon points='0,0 100,50 0,100' style='fill:{{call .Theme `color.SVG`}}'/></svg>");
	background-repeat: no-repeat;
	background-position: left center;
	background-size: 0.625rem;
}

details summary::-webkit-details-marker {
	display: none;
}

details[open] summary {
	background-image: url("data:image/svg+xml,<svg width='100' height='100' xmlns='http://www.w3.org/2000/svg'><polygon points='0,0 50,100 100,0' style='fill:{{call .Theme `color.SVG`}}'/></svg>");
}

/* TABLES */
table {
	background: inherit;
	border-collapse: collapse;
	width: 100%;
}

th, td {
	text-align: left;
	padding: 0.625rem;
	border: 1px solid {{call .Theme `color.Element`}};
	font-size: inherit;
	font-family: inherit;
	color: inherit;
}

.table-hidden td {
	text-align: right;
	padding: 0.375rem 0;
	border: 0;
}

/* LINKS */
a, a:hover {
	color: {{call .Theme `color.FocusOutline`}};
}

h1 a, h2 a, h3 a,
h4 a, h5 a, h6 a {
	text-decoration: none;
}

/* MOBILE RESPONSIVE */
@media screen and (max-width: 768px) {
	body {
		width: 100%;
	}

	main {
		padding: 1rem 0.75rem;
	}

	article {
		padding: 1rem;
	}

	header {
		padding: 0.75rem 1rem;
	}

	header nav {
		flex-direction: column;
		align-items: stretch;
	}

	.header-left, .header-right {
		justify-content: center;
	}

	.text-bar {
		flex-direction: column;
		align-items: stretch;
	}

	.text-bar > div {
		min-width: 100%;
	}

	.text-bar-right {
		text-align: left;
	}

	.button-block-right {
		justify-content: stretch;
	}

	.button-block-right button {
		flex: 1;
	}

	textarea {
		min-height: 200px;
	}

	.table-hidden {
		display: block;
	}

	.table-hidden tr {
		display: flex;
		flex-direction: column;
		margin-bottom: 0.5rem;
	}

	.table-hidden td {
		text-align: left;
		padding: 0.25rem 0;
	}
}

@media screen and (max-width: 480px) {
	header .site-title {
		font-size: 1.1rem;
	}

	h3 {
		font-size: 1.1rem;
	}

	.header-left, .header-right {
		gap: 0.5rem;
	}
}

/* LANDSCAPE PHONE */
@media screen and (max-height: 500px) and (orientation: landscape) {
	textarea {
		min-height: 100px;
	}
}

/* TOUCH DEVICE OPTIMIZATIONS */
@media (hover: none) and (pointer: coarse) {
	button, select, input, .checkbox {
		min-height: 48px;
	}

	select {
		padding-right: 2.5rem;
	}
}

/* PRINT STYLES */
@media print {
	header, .button-block-right, button {
		display: none;
	}

	body {
		width: 100%;
		background: white;
		color: black;
	}

	article {
		background: white;
		padding: 0;
	}
}
